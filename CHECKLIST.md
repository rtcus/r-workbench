# 部署检查清单

使用此清单确保部署过程的每一步都正确完成。

## 📋 部署前检查

### 代码准备

- [ ] 所有代码已保存
- [ ] 本地测试通过
- [ ] 浏览器控制台无错误
- [ ] 所有功能正常工作

### 环境配置

- [ ] 已创建 `.env.local` 文件
- [ ] LeanCloud配置信息正确
  - [ ] `LEANCLOUD_APP_ID`
  - [ ] `LEANCLOUD_APP_KEY`
  - [ ] `LEANCLOUD_SERVER_URL`
- [ ] `.gitignore` 包含 `.env` 和 `.env.local`
- [ ] `.env` 文件**未**提交到Git

### Git配置

- [ ] Git已安装并配置
- [ ] 已初始化Git仓库 (`git init`)
- [ ] 已添加所有文件 (`git add .`)
- [ ] 已提交代码 (`git commit`)
- [ ] 已创建GitHub仓库
- [ ] 已配置远程仓库 (`git remote add origin`)

### 项目文件

检查以下文件是否存在：

- [ ] `api/leancloud.js` - Vercel后端API
- [ ] `js/api-client.js` - 前端API客户端
- [ ] `package.json` - 项目依赖
- [ ] `vercel.json` - Vercel配置
- [ ] `.env.example` - 环境变量示例
- [ ] `.gitignore` - Git忽略规则
- [ ] `README.md` - 项目文档

## 🚀 部署中检查

### GitHub推送

- [ ] 代码成功推送到GitHub
- [ ] GitHub仓库可以正常访问
- [ ] 仓库中**没有** `.env` 或 `.env.local` 文件
- [ ] 仓库类型已设置为Private（推荐）

### Vercel配置

- [ ] 已注册/登录Vercel账号
- [ ] 使用GitHub账号登录Vercel
- [ ] 已从GitHub导入项目
- [ ] Framework Preset正确
- [ ] Root Directory正确

### 环境变量配置

在Vercel项目设置中：

- [ ] 已添加 `LEANCLOUD_APP_ID`
  - [ ] 值正确
  - [ ] ✓ Production
  - [ ] ✓ Preview
  - [ ] ✓ Development
  
- [ ] 已添加 `LEANCLOUD_APP_KEY`
  - [ ] 值正确
  - [ ] ✓ Production
  - [ ] ✓ Preview
  - [ ] ✓ Development
  
- [ ] 已添加 `LEANCLOUD_SERVER_URL`
  - [ ] 值正确
  - [ ] ✓ Production
  - [ ] ✓ Preview
  - [ ] ✓ Development

### 部署执行

- [ ] 点击Deploy按钮
- [ ] 等待构建完成
- [ ] 没有构建错误
- [ ] 部署成功
- [ ] 获得部署URL

## ✅ 部署后验证

### 基础验证

- [ ] 网站可以访问
- [ ] 页面正常加载
- [ ] CSS样式正确
- [ ] JavaScript无错误

### 功能测试

#### 登录功能

- [ ] 登录页面显示正常
- [ ] 可以输入用户名密码
- [ ] 点击登录有响应
- [ ] 登录成功进入系统
- [ ] 用户信息显示正确

#### 数据查询

- [ ] 首页统计数据正确
- [ ] 跟单工作台数据加载正常
- [ ] 报关数据管理正常
- [ ] HS编码查询正常
- [ ] 出口商查询正常

#### 数据操作

- [ ] 可以新增数据
- [ ] 可以编辑数据
- [ ] 可以删除数据
- [ ] 数据保存成功
- [ ] 数据刷新正确

#### 文件上传

- [ ] 可以选择文件
- [ ] 可以上传文件
- [ ] 文件上传成功
- [ ] 文件URL可访问

### 安全验证

#### 前端检查

- [ ] 按F12打开开发者工具
- [ ] 查看Sources标签
- [ ] 检查 `js/common.js`
  - [ ] **没有**硬编码的APP_ID
  - [ ] **没有**硬编码的APP_KEY
  - [ ] **没有**硬编码的SERVER_URL
- [ ] 检查所有JS文件
  - [ ] 确认配置已移除

#### 后端检查

- [ ] Vercel Functions页面查看
- [ ] `api/leancloud.js` 存在
- [ ] 环境变量从 `process.env` 读取
- [ ] 无敏感信息暴露

#### 网络请求

- [ ] 打开Network标签
- [ ] 执行一次数据查询
- [ ] 检查请求：
  - [ ] 请求URL是 `/api/leancloud`
  - [ ] 请求体不包含敏感配置
  - [ ] 响应正常

### 性能检查

- [ ] 首屏加载时间 < 3秒
- [ ] API响应时间 < 1秒
- [ ] 无明显卡顿
- [ ] 图片加载正常

### 浏览器兼容性

- [ ] Chrome浏览器正常
- [ ] Edge浏览器正常
- [ ] Firefox浏览器正常（可选）
- [ ] Safari浏览器正常（可选）

## 📊 监控配置

### Vercel监控

- [ ] 访问Vercel项目仪表板
- [ ] 查看部署历史
- [ ] 检查Functions日志
- [ ] 配置错误通知（可选）

### LeanCloud监控

- [ ] 访问LeanCloud控制台
- [ ] 检查数据存储
- [ ] 查看API调用统计
- [ ] 确认配额正常

## 🔄 自动化配置

### Git Hooks（可选）

- [ ] 配置pre-commit检查
- [ ] 配置pre-push验证
- [ ] 添加代码格式化

### GitHub Actions（可选）

- [ ] 配置自动测试
- [ ] 配置自动部署
- [ ] 配置代码质量检查

## 📝 文档更新

- [ ] README.md更新完整
- [ ] DEPLOYMENT.md检查无误
- [ ] 团队成员已告知
- [ ] 访问URL已分享

## 🎯 最终检查

### 关键指标

- [ ] ✅ 网站可访问
- [ ] ✅ 所有功能正常
- [ ] ✅ 无安全隐患
- [ ] ✅ 性能良好
- [ ] ✅ 文档完善

### 风险评估

- [ ] 数据备份已完成
- [ ] 回滚方案已准备
- [ ] 联系方式已记录
- [ ] 应急预案已制定

## ✍️ 签署

完成所有检查后签署：

```
检查人: _______________
日期: _________________
部署环境: Production
部署URL: ______________________________________________
备注: ________________________________________________
```

## 🆘 问题追踪

发现问题记录在此：

| 时间 | 问题描述 | 严重程度 | 状态 | 解决方案 |
|------|---------|----------|------|----------|
|      |         |          |      |          |

## 📞 紧急联系

- **开发者**: _______________
- **电话**: _______________
- **邮箱**: _______________

---

**重要提示**: 
- 所有检查项必须完成才能标记为完成部署
- 发现任何问题立即记录并解决
- 保留此检查清单作为部署记录
